import{r as B,n as a,j as o,aO as $,V as F,a7 as K,aN as p,$ as R,a2 as V,aX as g,i as w,z as _,Z as M,aY as H,ab as X}from"./index-Y1q3RxoI.js";import{u as O,a as j}from"./use-dark-ekWLNdeH.js";import{u as Y,a as Z}from"./private.use-form-CfHLuyLw.js";function G(e,s){const t=B(null),i=a(()=>e.disable===!0?null:o("span",{ref:t,class:"no-outline",tabindex:-1}));function d(u){const r=s.value;u!==void 0&&u.type.indexOf("key")===0?r!==null&&document.activeElement!==r&&r.contains(document.activeElement)===!0&&r.focus():t.value!==null&&(u===void 0||r!==null&&r.contains(u.target)===!0)&&t.value.focus()}return{refocusTargetEl:i,refocusTarget:d}}const J={xs:30,sm:35,md:40,lg:50,xl:60},U={...j,...p,...Y,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},W=["update:modelValue"];function ee(e,s){const{props:t,slots:i,emit:d,proxy:u}=R(),{$q:r}=u,S=O(t,r),x=B(null),{refocusTargetEl:b,refocusTarget:C}=G(t,x),q=$(t,J),f=a(()=>t.val!==void 0&&Array.isArray(t.modelValue)),m=a(()=>{const n=g(t.val);return f.value===!0?t.modelValue.findIndex(v=>g(v)===n):-1}),c=a(()=>f.value===!0?m.value!==-1:g(t.modelValue)===g(t.trueValue)),h=a(()=>f.value===!0?m.value===-1:g(t.modelValue)===g(t.falseValue)),l=a(()=>c.value===!1&&h.value===!1),k=a(()=>t.disable===!0?-1:t.tabindex||0),z=a(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(t.disable===!0?" disabled":"")+(S.value===!0?` q-${e}--dark`:"")+(t.dense===!0?` q-${e}--dense`:"")+(t.leftLabel===!0?" reverse":"")),A=a(()=>{const n=c.value===!0?"truthy":h.value===!0?"falsy":"indet",v=t.color!==void 0&&(t.keepColor===!0||h.value!==!0)?` text-${t.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${n}${v}`}),N=a(()=>{const n={type:"checkbox"};return t.name!==void 0&&Object.assign(n,{".checked":c.value,"^checked":c.value===!0?"checked":void 0,name:t.name,value:f.value===!0?t.val:t.trueValue}),n}),Q=Z(N),T=a(()=>{const n={tabindex:k.value,role:"checkbox","aria-label":t.label,"aria-checked":l.value===!0?"mixed":c.value===!0?"true":"false"};return t.disable===!0&&(n["aria-disabled"]="true"),n});function y(n){n!==void 0&&(V(n),C(n)),t.disable!==!0&&d("update:modelValue",D(),n)}function D(){if(f.value===!0){if(c.value===!0){const n=t.modelValue.slice();return n.splice(m.value,1),n}return t.modelValue.concat([t.val])}if(c.value===!0){if(t.toggleOrder!=="ft"||t.toggleIndeterminate===!1)return t.falseValue}else if(h.value===!0){if(t.toggleOrder==="ft"||t.toggleIndeterminate===!1)return t.trueValue}else return t.toggleOrder!=="ft"?t.trueValue:t.falseValue;return t.indeterminateValue}function E(n){(n.keyCode===13||n.keyCode===32)&&V(n)}function L(n){(n.keyCode===13||n.keyCode===32)&&y(n)}const P=s(c,l);return Object.assign(u,{toggle:y}),()=>{const n=P();t.disable!==!0&&Q(n,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const v=[o("div",{class:A.value,style:q.value,"aria-hidden":"true"},n)];b.value!==null&&v.push(b.value);const I=t.label!==void 0?F(i.default,[t.label]):K(i.default);return I!==void 0&&v.push(o("div",{class:`q-${e}__label q-anchor--skip`},I)),o("div",{ref:x,class:z.value,...T.value,onClick:y,onKeydown:E,onKeyup:L},v)}}const te=()=>o("div",{key:"svg",class:"q-checkbox__bg absolute"},[o("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[o("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),o("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]),ue=w({name:"QCheckbox",props:U,emits:W,setup(e){const s=te();function t(i,d){const u=a(()=>(i.value===!0?e.checkedIcon:d.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>u.value!==null?[o("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[o(_,{class:"q-checkbox__icon",name:u.value})])]:[s]}return ee("checkbox",t)}}),ne={xs:8,sm:10,md:14,lg:20,xl:24},ie=w({name:"QChip",props:{...j,...p,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:s,emit:t}){const{proxy:{$q:i}}=R(),d=O(e,i),u=$(e,ne),r=a(()=>e.selected===!0||e.icon!==void 0),S=a(()=>e.selected===!0?e.iconSelected||i.iconSet.chip.selected:e.icon),x=a(()=>e.iconRemove||i.iconSet.chip.remove),b=a(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),C=a(()=>{const l=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(l?` text-${l} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(b.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(d.value===!0?" q-chip--dark q-dark":"")}),q=a(()=>{const l=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},k={...l,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||i.lang.label.remove};return{chip:l,remove:k}});function f(l){l.keyCode===13&&m(l)}function m(l){e.disable||(t("update:selected",!e.selected),t("click",l))}function c(l){(l.keyCode===void 0||l.keyCode===13)&&(V(l),e.disable===!1&&(t("update:modelValue",!1),t("remove")))}function h(){const l=[];b.value===!0&&l.push(o("div",{class:"q-focus-helper"})),r.value===!0&&l.push(o(_,{class:"q-chip__icon q-chip__icon--left",name:S.value}));const k=e.label!==void 0?[o("div",{class:"ellipsis"},[e.label])]:void 0;return l.push(o("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},H(s.default,k))),e.iconRight&&l.push(o(_,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&l.push(o(_,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:x.value,...q.value.remove,onClick:c,onKeyup:c})),l}return()=>{if(e.modelValue===!1)return;const l={class:C.value,style:u.value};return b.value===!0&&Object.assign(l,q.value.chip,{onClick:m,onKeyup:f}),M("div",l,h(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[X,e.ripple]])}}});export{ue as Q,ie as a};
