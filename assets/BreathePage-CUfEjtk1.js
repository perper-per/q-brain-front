import{i as Q,n as x,j as I,Q as V,V as q,W as E,r as p,o as F,d as T,e as f,f as w,_ as W,w as D,k,q as R,h as C,g as o,T as H,A as M,t as S,S as A}from"./index-CRNOgkmO.js";import{Q as j}from"./QBtnGroup-JpcjA7Ib.js";import{u as N,a as U}from"./private.use-form-BlE0dQ4_.js";import{Q as $}from"./QPage-B_agwJhT.js";const P=Q({name:"QBtnToggle",props:{...N,modelValue:{required:!0},options:{type:Array,required:!0,validator:t=>t.every(l=>("label"in l||"icon"in l||"slot"in l)&&"value"in l)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(t,{slots:l,emit:c}){const b=x(()=>t.options.find(n=>n.value===t.modelValue)!==void 0),u=x(()=>({type:"hidden",name:t.name,value:t.modelValue})),a=U(u),s=x(()=>E(t)),g=x(()=>({rounded:t.rounded,dense:t.dense,...s.value})),m=x(()=>t.options.map((n,i)=>{const{attrs:v,value:e,slot:h,...d}=n;return{slot:h,props:{key:i,"aria-pressed":e===t.modelValue?"true":"false",...v,...d,...g.value,disable:t.disable===!0||d.disable===!0,color:e===t.modelValue?r(d,"toggleColor"):r(d,"color"),textColor:e===t.modelValue?r(d,"toggleTextColor"):r(d,"textColor"),noCaps:r(d,"noCaps")===!0,noWrap:r(d,"noWrap")===!0,size:r(d,"size"),padding:r(d,"padding"),ripple:r(d,"ripple"),stack:r(d,"stack")===!0,stretch:r(d,"stretch")===!0,onClick(_){B(e,n,_)}}}}));function B(n,i,v){t.readonly!==!0&&(t.modelValue===n?t.clearable===!0&&(c("update:modelValue",null,null),c("clear")):c("update:modelValue",n,i),c("click",v))}function r(n,i){return n[i]===void 0?t[i]:n[i]}function y(){const n=m.value.map(i=>I(V,i.props,i.slot!==void 0?l[i.slot]:void 0));return t.name!==void 0&&t.disable!==!0&&b.value===!0&&a(n,"push"),q(l.default,n)}return()=>I(j,{class:"q-btn-toggle",...s.value,rounded:t.rounded,stretch:t.stretch,glossy:t.glossy,spread:t.spread},y)}}),L={__name:"HalftoneWaves",setup(t){const l=p(null);let c=null,b=0,u=null;return F(()=>{const a=l.value;if(!a)return;const s=a.getContext("2d");if(!s)return;u=()=>{a.width=window.innerWidth,a.height=window.innerHeight};const g=()=>{const r=Math.ceil(a.height/20),y=Math.ceil(a.width/20);for(let n=0;n<r;n++)for(let i=0;i<y;i++){const v=i*20,e=n*20,h=Math.sqrt((v-a.width/2)**2+(e-a.height/2)**2),d=Math.sqrt((a.width/2)**2+(a.height/2)**2),_=h/d,z=Math.sin(_*10-b)*.5+.5,O=20*z*.8;s.beginPath(),s.arc(v,e,O/2,0,Math.PI*2),s.fillStyle=`rgba(150, 150, 150, ${z*.5})`,s.fill()}},m=()=>{s.fillStyle="rgba(0, 0, 0, 0.1)",s.fillRect(0,0,a.width,a.height),g(),b+=.05,c=requestAnimationFrame(m)};u(),window.addEventListener("resize",u),m()}),T(()=>{c&&cancelAnimationFrame(c),u&&window.removeEventListener("resize",u)}),(a,s)=>(f(),w("canvas",{ref_key:"canvasRef",ref:l,class:"halftone-canvas"},null,512))}},G={class:"content-container"},X={class:"desktop-layout"},Y={class:"control-panel left-panel"},J={key:1,class:"timer-display"},K={class:"time-value"},Z={class:"mobile-top-controls"},ee={key:1,class:"timer-display"},te={class:"time-value"},le={class:"breath-circle-container"},ae=["r"],oe={class:"control-panel right-panel"},ne={class:"mobile-bottom-controls"},se={__name:"BreathePage",setup(t){const l=p(!1),c=p(60),b=p(50),u=p("吸"),a=p(60);let s,g;const m=p(!1);D(a,v=>{c.value=v});const B=v=>{const e=Math.floor(v/60),h=v%60;return`${e}:${h.toString().padStart(2,"0")}`},r=()=>{l.value?n():y()},y=()=>{l.value=!0,c.value=a.value,m.value=!1,s=setInterval(()=>{u.value=u.value==="吸"?"吐":"吸"},4e3),g=setInterval(()=>{c.value>0?c.value--:(n(),m.value=!0)},1e3)},n=()=>{l.value=!1,u.value="吸",s&&(clearInterval(s),s=null),g&&(clearInterval(g),g=null)},i=()=>{m.value=!1};return T(()=>{s&&clearInterval(s),g&&clearInterval(g)}),(v,e)=>(f(),k($,{class:"breath-page"},{default:R(()=>[C(L,{class:"background-waves"}),m.value?(f(),w("div",{key:0,class:"completion-overlay",onClick:i},[o("div",{class:"completion-circle",onClick:e[0]||(e[0]=H(()=>{},["stop"]))},e[3]||(e[3]=[o("span",{class:"completion-text"},"舒適",-1)])),e[4]||(e[4]=o("div",{class:"completion-hint"},"點擊空白處關閉",-1))])):M("",!0),o("div",G,[o("div",X,[o("div",Y,[l.value?(f(),w("div",J,[o("div",K,S(B(c.value)),1),e[5]||(e[5]=o("div",{class:"time-label"},"剩餘時間",-1))])):(f(),k(P,{key:0,modelValue:a.value,"onUpdate:modelValue":e[1]||(e[1]=h=>a.value=h),options:[{label:"1分鐘",value:60},{label:"3分鐘",value:180},{label:"5分鐘",value:300}],class:"duration-toggle","no-caps":"",unelevated:"",rounded:"","toggle-color":"white","text-color":"white",color:"transparent","active-class":"active-duration"},null,8,["modelValue"]))]),o("div",Z,[l.value?(f(),w("div",ee,[o("div",te,S(B(c.value)),1),e[6]||(e[6]=o("div",{class:"time-label"},"剩餘時間",-1))])):(f(),k(P,{key:0,modelValue:a.value,"onUpdate:modelValue":e[2]||(e[2]=h=>a.value=h),options:[{label:"1分鐘",value:60},{label:"3分鐘",value:180},{label:"5分鐘",value:300}],class:"duration-toggle","no-caps":"",unelevated:"",rounded:"","toggle-color":"white","text-color":"white",color:"transparent","active-class":"active-duration"},null,8,["modelValue"]))]),o("div",le,[e[7]||(e[7]=o("svg",{class:"rotating-text",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},[o("path",{id:"circlePath",fill:"none",d:`
                M 10, 50
                a 40,40 0 1,1 80,0
                a 40,40 0 1,1 -80,0
              `}),o("text",null,[o("textPath",{href:"#circlePath",class:"circle-text"}," BREATHE IN●BREATHE OUT● ")])],-1)),e[8]||(e[8]=o("div",{class:"reference-circle"},[o("svg",{width:"300",height:"300",viewBox:"0 0 200 200"},[o("circle",{cx:"100",cy:"100",r:"75",fill:"rgba(255, 255, 255, 0.5)",stroke:"rgba(255, 255, 255, 0.3)","stroke-width":"2","stroke-opacity":"0.2"})])],-1)),(f(),w("svg",{class:A(["breath-circle",{"animate-breath":l.value}]),width:"300",height:"300",viewBox:"0 0 200 200"},[o("circle",{cx:"100",cy:"100",r:b.value,fill:"rgba(255, 255, 255, 0.9)",stroke:"rgba(255, 255, 255, 0.9)","stroke-width":"4"},null,8,ae)],2)),l.value?(f(),w("div",{key:0,class:A(["breath-text",{"fade-in":l.value,inhale:u.value==="吸",exhale:u.value==="吐"}])},S(u.value),3)):M("",!0)]),o("div",oe,[C(V,{color:l.value?"negative":"primary",label:l.value?"Stop":"Start",onClick:r,rounded:"",class:"control-btn"},null,8,["color","label"])])]),o("div",ne,[C(V,{color:l.value?"negative":"primary",label:l.value?"停止":"開始",onClick:r,rounded:"",class:"control-btn"},null,8,["color","label"])])])]),_:1}))}},ue=W(se,[["__scopeId","data-v-b2dee94e"]]);export{ue as default};
