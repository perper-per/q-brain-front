import{h as Oe,m as i,i as u,a2 as Ze,W as pe,aw as jt,y as St,r as E,w as ue,aE as Et,aF as Qt,a as Nt,at as vt,aG as He,a7 as Ut,aj as Ve,a8 as Kt,Z as Re,H as Z,R as Tt,aH as zt,aI as Wt,X as bt,aJ as kt,Y as Xt,aK as Gt,al as $e,Q as Je}from"./index-CoJQmBad.js";import{Q as Jt}from"./QSeparator-BSr-xDop.js";import{u as Pt,a as Yt,c as Bt,Q as Zt,g as en}from"./QVirtualScroll-B2gaYIsE.js";import{a as yt,b as Ft,c as Dt,d as At,f as qt,e as tn}from"./QInput-fb8nRald.js";import{a as nn,Q as gt}from"./QChip-CL6sKSDW.js";import{a as ln,Q as un}from"./QItem-DpPUXjVb.js";import{Q as an}from"./QItemLabel-CRhlYVPX.js";import{Q as on}from"./use-id-BT81_MsD.js";import{Q as rn}from"./QDialog-CrVPPMdc.js";import{u as sn,c as dn}from"./private.use-form-Bv4hEZxj.js";import{n as xt}from"./format-dCatN8Gn.js";import{a as Lt,u as Mt}from"./use-dark-oi2KFndD.js";import{u as cn,a as fn,b as vn}from"./use-fullscreen-CJwZeFp8.js";const Jn=Oe({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:a}){const l=pe(),h=i(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return u("td",{class:h.value},Ze(a.default));const b=l.vnode.key,f=(e.props.colsMap!==void 0?e.props.colsMap[b]:null)||e.props.col;if(f===void 0)return;const{row:m}=e.props;return u("td",{class:h.value+f.__tdClass(m),style:f.__tdStyle(m)},Ze(a.default))}}}),gn=Oe({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:a,emit:l}){const h=pe(),{proxy:{$q:b}}=h,f=m=>{l("click",m)};return()=>{if(e.props===void 0)return u("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:f},Ze(a.default));let m,v;const g=h.vnode.key;if(g){if(m=e.props.colsMap[g],m===void 0)return}else m=e.props.col;if(m.sortable===!0){const o=m.align==="right"?"unshift":"push";v=jt(a.default,[]),v[o](u(St,{class:m.__iconClass,name:b.iconSet.table.arrowUp}))}else v=Ze(a.default);const P={class:m.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:m.headerStyle,onClick:o=>{m.sortable===!0&&e.props.sort(m),f(o)}};return u("th",P,v)}}}),mn=Oe({name:"QField",inheritAttrs:!1,props:{...yt,tag:{type:String,default:"label"}},emits:Ft,setup(){return Dt(At({tagProp:!0}))}}),Vt=e=>["add","add-unique","toggle"].includes(e),bn=".*+?^${}()|[]\\",Sn=Object.keys(yt);function mt(e,a){if(typeof e=="function")return e;const l=e!==void 0?e:a;return h=>h!==null&&typeof h=="object"&&l in h?h[l]:h}const yn=Oe({name:"QSelect",inheritAttrs:!1,props:{...Pt,...sn,...yt,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Vt},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:Pt.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...Ft,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:a,emit:l}){const{proxy:h}=pe(),{$q:b}=h,f=E(!1),m=E(!1),v=E(-1),g=E(""),P=E(!1),o=E(!1);let C=null,q=null,R,x,V,w=null,Q,ee,M,L;const $=E(null),D=E(null),te=E(null),ae=E(null),Ie=E(null),K=dn(e),Y=tn(n),G=i(()=>Array.isArray(e.options)?e.options.length:0),je=i(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:et,virtualScrollSliceSizeComputed:Te,localResetVirtualScroll:ie,padVirtualScroll:Be,onVirtualScrollEvt:Ee,scrollTo:oe,setVirtualScrollSize:Qe}=Yt({virtualScrollLength:G,getVirtualScrollTarget:ot,getVirtualScrollEl:Xe,virtualScrollItemSizeComputed:je}),r=At(),B=i(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,d=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const c=e.mapOptions===!0&&R!==void 0?R:[],k=d.map(I=>it(I,c));return e.modelValue===null&&t===!0?k.filter(I=>I!==null):k}return d}),Ne=i(()=>{const t={};return Sn.forEach(d=>{const c=e[d];c!==void 0&&(t[d]=c)}),t}),ve=i(()=>e.optionsDark===null?r.isDark.value:e.optionsDark),Fe=i(()=>qt(B.value)),De=i(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||B.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),re=i(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),J=i(()=>G.value===0),ge=i(()=>B.value.map(t=>j.value(t)).join(", ")),me=i(()=>e.displayValue!==void 0?e.displayValue:ge.value),ne=i(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),tt=i(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||B.value.some(ne.value))),se=i(()=>r.focused.value===!0?e.tabindex:-1),be=i(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":f.value===!0?"true":"false","aria-controls":`${r.targetUid.value}_lb`};return v.value>=0&&(t["aria-activedescendant"]=`${r.targetUid.value}_${v.value}`),t}),Se=i(()=>({id:`${r.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),ye=i(()=>B.value.map((t,d)=>({index:d,opt:t,html:ne.value(t),selected:!0,removeAtIndex:at,toggleOption:z,tabindex:se.value}))),Ae=i(()=>{if(G.value===0)return[];const{from:t,to:d}=et.value;return e.options.slice(t,d).map((c,k)=>{const I=le.value(c)===!0,O=Ce(c)===!0,H=t+k,A={clickable:!0,active:O,activeClass:ut.value,manualFocus:!0,focused:!1,disable:I,tabindex:-1,dense:e.optionsDense,dark:ve.value,role:"option","aria-selected":O===!0?"true":"false",id:`${r.targetUid.value}_${H}`,onClick:()=>{z(c)}};return I!==!0&&(v.value===H&&(A.focused=!0),b.platform.is.desktop===!0&&(A.onMousemove=()=>{f.value===!0&&N(H)})),{index:H,opt:c,html:ne.value(c),label:j.value(c),selected:A.active,focused:A.focused,toggleOption:z,setOptionIndex:N,itemProps:A}})}),nt=i(()=>e.dropdownIcon!==void 0?e.dropdownIcon:b.iconSet.arrow.dropdown),lt=i(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),ut=i(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),U=i(()=>mt(e.optionValue,"value")),j=i(()=>mt(e.optionLabel,"label")),le=i(()=>mt(e.optionDisable,"disable")),de=i(()=>B.value.map(U.value)),Ue=i(()=>{const t={onInput:n,onChange:Y,onKeydown:ce,onKeyup:we,onKeypress:Me,onFocus:Le,onClick(d){x===!0&&Ve(d)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=Y,t});ue(B,t=>{R=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&r.innerLoading.value!==!0&&(m.value!==!0&&f.value!==!0||Fe.value!==!0)&&(V!==!0&&xe(),(m.value===!0||f.value===!0)&&y(""))},{immediate:!0}),ue(()=>e.fillInput,xe),ue(f,ct),ue(G,pt);function Ke(t){return e.emitValue===!0?U.value(t):t}function he(t){if(t!==-1&&t<B.value.length)if(e.multiple===!0){const d=e.modelValue.slice();l("remove",{index:t,value:d.splice(t,1)[0]}),l("update:modelValue",d)}else l("update:modelValue",null)}function at(t){he(t),r.focus()}function ze(t,d){const c=Ke(t);if(e.multiple!==!0){e.fillInput===!0&&S(j.value(t),!0,!0),l("update:modelValue",c);return}if(B.value.length===0){l("add",{index:0,value:c}),l("update:modelValue",e.multiple===!0?[c]:c);return}if(d===!0&&Ce(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const k=e.modelValue.slice();l("add",{index:k.length,value:c}),k.push(c),l("update:modelValue",k)}function z(t,d){if(r.editable.value!==!0||t===void 0||le.value(t)===!0)return;const c=U.value(t);if(e.multiple!==!0){d!==!0&&(S(e.fillInput===!0?j.value(t):"",!0,!0),fe()),D.value!==null&&D.value.focus(),(B.value.length===0||He(U.value(B.value[0]),c)!==!0)&&l("update:modelValue",e.emitValue===!0?c:t);return}if((x!==!0||P.value===!0)&&r.focus(),Le(),B.value.length===0){const O=e.emitValue===!0?c:t;l("add",{index:0,value:O}),l("update:modelValue",e.multiple===!0?[O]:O);return}const k=e.modelValue.slice(),I=de.value.findIndex(O=>He(O,c));if(I!==-1)l("remove",{index:I,value:k.splice(I,1)[0]});else{if(e.maxValues!==void 0&&k.length>=e.maxValues)return;const O=e.emitValue===!0?c:t;l("add",{index:k.length,value:O}),k.push(O)}l("update:modelValue",k)}function N(t){if(b.platform.is.desktop!==!0)return;const d=t!==-1&&t<G.value?t:-1;v.value!==d&&(v.value=d)}function W(t=1,d){if(f.value===!0){let c=v.value;do c=xt(c+t,-1,G.value-1);while(c!==-1&&c!==v.value&&le.value(e.options[c])===!0);v.value!==c&&(N(c),oe(c),d!==!0&&e.useInput===!0&&e.fillInput===!0&&s(c>=0?j.value(e.options[c]):Q,!0))}}function it(t,d){const c=k=>He(U.value(k),t);return e.options.find(c)||d.find(c)||t}function Ce(t){const d=U.value(t);return de.value.find(c=>He(c,d))!==void 0}function Le(t){e.useInput===!0&&D.value!==null&&(t===void 0||D.value===t.target&&t.target.value===ge.value)&&D.value.select()}function We(t){Ut(t,27)===!0&&f.value===!0&&(Ve(t),fe(),xe()),l("keyup",t)}function we(t){const{value:d}=t.target;if(t.keyCode!==void 0){We(t);return}if(t.target.value="",C!==null&&(clearTimeout(C),C=null),q!==null&&(clearTimeout(q),q=null),xe(),typeof d=="string"&&d.length!==0){const c=d.toLocaleLowerCase(),k=O=>{const H=e.options.find(A=>String(O.value(A)).toLocaleLowerCase()===c);return H===void 0?!1:(B.value.indexOf(H)===-1?z(H):fe(),!0)},I=O=>{k(U)!==!0&&O!==!0&&k(j)!==!0&&y(d,!0,()=>I(!0))};I()}else r.clearValue(t)}function Me(t){l("keypress",t)}function ce(t){if(l("keydown",t),Kt(t)===!0)return;const d=g.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),c=t.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(v.value!==-1||d===!0);if(t.keyCode===27){vt(t);return}if(t.keyCode===9&&c===!1){Pe();return}if(t.target===void 0||t.target.id!==r.targetUid.value||r.editable.value!==!0)return;if(t.keyCode===40&&r.innerLoading.value!==!0&&f.value===!1){Re(t),qe();return}if(t.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&g.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?he(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&l("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof g.value!="string"||g.value.length===0)&&(Re(t),v.value=-1,W(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&Te.value!==void 0&&(Re(t),v.value=Math.max(-1,Math.min(G.value,v.value+(t.keyCode===33?-1:1)*Te.value.view)),W(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(Re(t),W(t.keyCode===38?-1:1,e.multiple));const k=G.value;if((M===void 0||L<Date.now())&&(M=""),k>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||M.length!==0)){f.value!==!0&&qe(t);const I=t.key.toLocaleLowerCase(),O=M.length===1&&M[0]===I;L=Date.now()+1500,O===!1&&(Re(t),M+=I);const H=new RegExp("^"+M.split("").map(ft=>bn.indexOf(ft)!==-1?"\\"+ft:ft).join(".*"),"i");let A=v.value;if(O===!0||A<0||H.test(j.value(e.options[A]))!==!0)do A=xt(A+1,-1,k-1);while(A!==v.value&&(le.value(e.options[A])===!0||H.test(j.value(e.options[A]))!==!0));v.value!==A&&Z(()=>{N(A),oe(A),A>=0&&e.useInput===!0&&e.fillInput===!0&&s(j.value(e.options[A]),!0)});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||M!=="")&&(t.keyCode!==9||c===!1))){if(t.keyCode!==9&&Re(t),v.value!==-1&&v.value<k){z(e.options[v.value]);return}if(d===!0){const I=(O,H)=>{if(H){if(Vt(H)!==!0)return}else H=e.newValueMode;if(S("",e.multiple!==!0,!0),O==null)return;(H==="toggle"?z:ze)(O,H==="add-unique"),e.multiple!==!0&&(D.value!==null&&D.value.focus(),fe())};if(e.onNewValue!==void 0?l("newValue",g.value,I):I(g.value),e.multiple!==!0)return}f.value===!0?Pe():r.innerLoading.value!==!0&&qe()}}function Xe(){return x===!0?Ie.value:te.value!==null&&te.value.contentEl!==null?te.value.contentEl:void 0}function ot(){return Xe()}function rt(){return e.hideSelected===!0?[]:a["selected-item"]!==void 0?ye.value.map(t=>a["selected-item"](t)).slice():a.selected!==void 0?[].concat(a.selected()):e.useChips===!0?ye.value.map((t,d)=>u(nn,{key:"option-"+d,removable:r.editable.value===!0&&le.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:se.value,onRemove(){t.removeAtIndex(d)}},()=>u("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:j.value(t.opt)}))):[u("span",{[tt.value===!0?"innerHTML":"textContent"]:me.value})]}function Ge(){if(J.value===!0)return a["no-option"]!==void 0?a["no-option"]({inputValue:g.value}):void 0;const t=a.option!==void 0?a.option:c=>u(un,{key:c.index,...c.itemProps},()=>u(ln,()=>u(an,()=>u("span",{[c.html===!0?"innerHTML":"textContent"]:c.label}))));let d=Be("div",Ae.value.map(t));return a["before-options"]!==void 0&&(d=a["before-options"]().concat(d)),Tt(a["after-options"],d)}function st(t,d){const c=d===!0?{...be.value,...r.splitAttrs.attributes.value}:void 0,k={ref:d===!0?D:void 0,key:"i_t",class:De.value,style:e.inputStyle,value:g.value!==void 0?g.value:"",type:"search",...c,id:d===!0?r.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...Ue.value};return t!==!0&&x===!0&&(Array.isArray(k.class)===!0?k.class=[...k.class,"no-pointer-events"]:k.class+=" no-pointer-events"),u("input",k)}function n(t){C!==null&&(clearTimeout(C),C=null),q!==null&&(clearTimeout(q),q=null),!(t&&t.target&&t.target.qComposing===!0)&&(s(t.target.value||""),V=!0,Q=g.value,r.focused.value!==!0&&(x!==!0||P.value===!0)&&r.focus(),e.onFilter!==void 0&&(C=setTimeout(()=>{C=null,y(g.value)},e.inputDebounce)))}function s(t,d){g.value!==t&&(g.value=t,d===!0||e.inputDebounce===0||e.inputDebounce==="0"?l("inputValue",t):q=setTimeout(()=>{q=null,l("inputValue",t)},e.inputDebounce))}function S(t,d,c){V=c!==!0,e.useInput===!0&&(s(t,!0),(d===!0||c!==!0)&&(Q=t),d!==!0&&y(t))}function y(t,d,c){if(e.onFilter===void 0||d!==!0&&r.focused.value!==!0)return;r.innerLoading.value===!0?l("filterAbort"):(r.innerLoading.value=!0,o.value=!0),t!==""&&e.multiple!==!0&&B.value.length!==0&&V!==!0&&t===j.value(B.value[0])&&(t="");const k=setTimeout(()=>{f.value===!0&&(f.value=!1)},10);w!==null&&clearTimeout(w),w=k,l("filter",t,(I,O)=>{(d===!0||r.focused.value===!0)&&w===k&&(clearTimeout(w),typeof I=="function"&&I(),o.value=!1,Z(()=>{r.innerLoading.value=!1,r.editable.value===!0&&(d===!0?f.value===!0&&fe():f.value===!0?ct(!0):f.value=!0),typeof O=="function"&&Z(()=>{O(h)}),typeof c=="function"&&Z(()=>{c(h)})}))},()=>{r.focused.value===!0&&w===k&&(clearTimeout(w),r.innerLoading.value=!1,o.value=!1),f.value===!0&&(f.value=!1)})}function _(){return u(on,{ref:te,class:re.value,style:e.popupContentStyle,modelValue:f.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&J.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:ve.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:lt.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Se.value,onScrollPassive:Ee,onBeforeShow:Ct,onBeforeHide:F,onShow:T},Ge)}function F(t){wt(t),Pe()}function T(){Qe()}function X(t){Ve(t),D.value!==null&&D.value.focus(),P.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function p(t){Ve(t),Z(()=>{P.value=!1})}function _e(){const t=[u(mn,{class:`col-auto ${r.fieldClass.value}`,...Ne.value,for:r.targetUid.value,dark:ve.value,square:!0,loading:o.value,itemAligned:!1,filled:!0,stackLabel:g.value.length!==0,...r.splitAttrs.listeners.value,onFocus:X,onBlur:p},{...a,rawControl:()=>r.getControl(!0),before:void 0,after:void 0})];return f.value===!0&&t.push(u("div",{ref:Ie,class:re.value+" scroll",style:e.popupContentStyle,...Se.value,onClick:vt,onScrollPassive:Ee},Ge())),u(rn,{ref:ae,modelValue:m.value,position:e.useInput===!0?"top":void 0,transitionShow:ee,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:Ct,onBeforeHide:ke,onHide:dt,onShow:$t},()=>u("div",{class:"q-select__dialog"+(ve.value===!0?" q-select__dialog--dark q-dark":"")+(P.value===!0?" q-select__dialog--focused":"")},t))}function ke(t){wt(t),ae.value!==null&&ae.value.__updateRefocusTarget(r.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),r.focused.value=!1}function dt(t){fe(),r.focused.value===!1&&l("blur",t),xe()}function $t(){const t=document.activeElement;(t===null||t.id!==r.targetUid.value)&&D.value!==null&&D.value!==t&&D.value.focus(),Qe()}function Pe(){m.value!==!0&&(v.value=-1,f.value===!0&&(f.value=!1),r.focused.value===!1&&(w!==null&&(clearTimeout(w),w=null),r.innerLoading.value===!0&&(l("filterAbort"),r.innerLoading.value=!1,o.value=!1)))}function qe(t){r.editable.value===!0&&(x===!0?(r.onControlFocusin(t),m.value=!0,Z(()=>{r.focus()})):r.focus(),e.onFilter!==void 0?y(g.value):(J.value!==!0||a["no-option"]!==void 0)&&(f.value=!0))}function fe(){m.value=!1,Pe()}function xe(){e.useInput===!0&&S(e.multiple!==!0&&e.fillInput===!0&&B.value.length!==0&&j.value(B.value[0])||"",!0,!0)}function ct(t){let d=-1;if(t===!0){if(B.value.length!==0){const c=U.value(B.value[0]);d=e.options.findIndex(k=>He(U.value(k),c))}ie(d)}N(d)}function pt(t,d){f.value===!0&&r.innerLoading.value===!1&&(ie(-1,!0),Z(()=>{f.value===!0&&r.innerLoading.value===!1&&(t>d?ie():ct(!0))}))}function ht(){m.value===!1&&te.value!==null&&te.value.updatePosition()}function Ct(t){t!==void 0&&Ve(t),l("popupShow",t),r.hasPopupOpen=!0,r.onControlFocusin(t)}function wt(t){t!==void 0&&Ve(t),l("popupHide",t),r.hasPopupOpen=!1,r.onControlFocusout(t)}function _t(){x=b.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?a["no-option"]!==void 0||e.onFilter!==void 0||J.value===!1:!0),ee=b.platform.is.ios===!0&&x===!0&&e.useInput===!0?"fade":e.transitionShow}return Et(_t),Qt(ht),_t(),Nt(()=>{C!==null&&clearTimeout(C),q!==null&&clearTimeout(q)}),Object.assign(h,{showPopup:qe,hidePopup:fe,removeAtIndex:he,add:ze,toggleOption:z,getOptionIndex:()=>v.value,setOptionIndex:N,moveOptionSelection:W,filter:y,updateMenuPosition:ht,updateInputValue:S,isOptionSelected:Ce,getEmittingOptionValue:Ke,isOptionDisabled:(...t)=>le.value.apply(null,t)===!0,getOptionValue:(...t)=>U.value.apply(null,t),getOptionLabel:(...t)=>j.value.apply(null,t)}),Object.assign(r,{innerValue:B,fieldClass:i(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:$,targetRef:D,hasValue:Fe,showPopup:qe,floatingLabel:i(()=>e.hideSelected!==!0&&Fe.value===!0||typeof g.value=="number"||g.value.length!==0||qt(e.displayValue)),getControlChild:()=>{if(r.editable.value!==!1&&(m.value===!0||J.value!==!0||a["no-option"]!==void 0))return x===!0?_e():_();r.hasPopupOpen===!0&&(r.hasPopupOpen=!1)},controlEvents:{onFocusin(t){r.onControlFocusin(t)},onFocusout(t){r.onControlFocusout(t,()=>{xe(),Pe()})},onClick(t){if(vt(t),x!==!0&&f.value===!0){Pe(),D.value!==null&&D.value.focus();return}qe(t)}},getControl:t=>{const d=rt(),c=t===!0||m.value!==!0||x!==!0;if(e.useInput===!0)d.push(st(t,c));else if(r.editable.value===!0){const I=c===!0?be.value:void 0;d.push(u("input",{ref:c===!0?D:void 0,key:"d_t",class:"q-select__focus-target",id:c===!0?r.targetUid.value:void 0,value:me.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...I,onKeydown:ce,onKeyup:We,onKeypress:Me})),c===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&d.push(u("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:we}))}if(K.value!==void 0&&e.disable!==!0&&de.value.length!==0){const I=de.value.map(O=>u("option",{value:O,selected:!0}));d.push(u("select",{class:"hidden",name:K.value,multiple:e.multiple},I))}const k=e.useInput===!0||c!==!0?void 0:r.splitAttrs.attributes.value;return u("div",{class:"q-field__native row items-center",...k,...r.splitAttrs.listeners.value},d)},getInnerAppend:()=>e.loading!==!0&&o.value!==!0&&e.hideDropdownIcon!==!0?[u(St,{class:"q-select__dropdown-icon"+(f.value===!0?" rotate-180":""),name:nt.value})]:null}),Dt(r)}}),hn={xs:2,sm:4,md:6,lg:10,xl:14};function Rt(e,a,l){return{transform:a===!0?`translateX(${l.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}const Cn=Oe({name:"QLinearProgress",props:{...Lt,...zt,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:a}){const{proxy:l}=pe(),h=Mt(e,l.$q),b=Wt(e,hn),f=i(()=>e.indeterminate===!0||e.query===!0),m=i(()=>e.reverse!==e.query),v=i(()=>({...b.value!==null?b.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),g=i(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),P=i(()=>Rt(e.buffer!==void 0?e.buffer:1,m.value,l.$q)),o=i(()=>`with${e.instantFeedback===!0?"out":""}-transition`),C=i(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${o.value} q-linear-progress__track--${h.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),q=i(()=>Rt(f.value===!0?1:e.value,m.value,l.$q)),R=i(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${o.value} q-linear-progress__model--${f.value===!0?"in":""}determinate`),x=i(()=>({width:`${e.value*100}%`})),V=i(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${o.value}`);return()=>{const w=[u("div",{class:C.value,style:P.value}),u("div",{class:R.value,style:q.value})];return e.stripe===!0&&f.value===!1&&w.push(u("div",{class:V.value,style:x.value})),u("div",{class:g.value,style:v.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},Tt(a.default,w))}}});function wn(e,a){return new Date(e)-new Date(a)}const _n={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function kn(e,a,l,h){const b=i(()=>{const{sortBy:v}=a.value;return v&&l.value.find(g=>g.name===v)||null}),f=i(()=>e.sortMethod!==void 0?e.sortMethod:(v,g,P)=>{const o=l.value.find(R=>R.name===g);if(o===void 0||o.field===void 0)return v;const C=P===!0?-1:1,q=typeof o.field=="function"?R=>o.field(R):R=>R[o.field];return v.sort((R,x)=>{let V=q(R),w=q(x);return o.rawSort!==void 0?o.rawSort(V,w,R,x)*C:V==null?-1*C:w==null?1*C:o.sort!==void 0?o.sort(V,w,R,x)*C:bt(V)===!0&&bt(w)===!0?(V-w)*C:kt(V)===!0&&kt(w)===!0?wn(V,w)*C:typeof V=="boolean"&&typeof w=="boolean"?(V-w)*C:([V,w]=[V,w].map(Q=>(Q+"").toLocaleString().toLowerCase()),V<w?-1*C:V===w?0:C)})});function m(v){let g=e.columnSortOrder;if(Xt(v)===!0)v.sortOrder&&(g=v.sortOrder),v=v.name;else{const C=l.value.find(q=>q.name===v);C!==void 0&&C.sortOrder&&(g=C.sortOrder)}let{sortBy:P,descending:o}=a.value;P!==v?(P=v,o=g==="da"):e.binaryStateSort===!0?o=!o:o===!0?g==="ad"?P=null:o=!1:g==="ad"?o=!0:P=null,h({sortBy:P,descending:o,page:1})}return{columnToSort:b,computedSortMethod:f,sort:m}}const Pn={filter:[String,Object],filterMethod:Function};function qn(e,a){const l=i(()=>e.filterMethod!==void 0?e.filterMethod:(h,b,f,m)=>{const v=b?b.toLowerCase():"";return h.filter(g=>f.some(P=>{const o=m(P,g)+"";return(o==="undefined"||o==="null"?"":o.toLowerCase()).indexOf(v)!==-1}))});return ue(()=>e.filter,()=>{Z(()=>{a({page:1},!0)})},{deep:!0}),{computedFilterMethod:l}}function xn(e,a){for(const l in a)if(a[l]!==e[l])return!1;return!0}function Ot(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const Vn={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function Rn(e,a){const{props:l,emit:h}=e,b=E(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:l.rowsPerPageOptions.length!==0?l.rowsPerPageOptions[0]:5},l.pagination)),f=i(()=>{const o=l["onUpdate:pagination"]!==void 0?{...b.value,...l.pagination}:b.value;return Ot(o)}),m=i(()=>f.value.rowsNumber!==void 0);function v(o){g({pagination:o,filter:l.filter})}function g(o={}){Z(()=>{h("request",{pagination:o.pagination||f.value,filter:o.filter||l.filter,getCellValue:a})})}function P(o,C){const q=Ot({...f.value,...o});if(xn(f.value,q)===!0){m.value===!0&&C===!0&&v(q);return}if(m.value===!0){v(q);return}l.pagination!==void 0&&l["onUpdate:pagination"]!==void 0?h("update:pagination",q):b.value=q}return{innerPagination:b,computedPagination:f,isServerSide:m,requestServerInteraction:g,setPagination:P}}function On(e,a,l,h,b,f){const{props:m,emit:v,proxy:{$q:g}}=e,P=i(()=>h.value===!0?l.value.rowsNumber||0:f.value),o=i(()=>{const{page:L,rowsPerPage:$}=l.value;return(L-1)*$}),C=i(()=>{const{page:L,rowsPerPage:$}=l.value;return L*$}),q=i(()=>l.value.page===1),R=i(()=>l.value.rowsPerPage===0?1:Math.max(1,Math.ceil(P.value/l.value.rowsPerPage))),x=i(()=>C.value===0?!0:l.value.page>=R.value),V=i(()=>(m.rowsPerPageOptions.includes(a.value.rowsPerPage)?m.rowsPerPageOptions:[a.value.rowsPerPage].concat(m.rowsPerPageOptions)).map($=>({label:$===0?g.lang.table.allRows:""+$,value:$})));ue(R,(L,$)=>{if(L===$)return;const D=l.value.page;L&&!D?b({page:1}):L<D&&b({page:L})});function w(){b({page:1})}function Q(){const{page:L}=l.value;L>1&&b({page:L-1})}function ee(){const{page:L,rowsPerPage:$}=l.value;C.value>0&&L*$<P.value&&b({page:L+1})}function M(){b({page:R.value})}return m["onUpdate:pagination"]!==void 0&&v("update:pagination",{...l.value}),{firstRowIndex:o,lastRowIndex:C,isFirstPage:q,isLastPage:x,pagesNumber:R,computedRowsPerPageOptions:V,computedRowsNumber:P,firstPage:w,prevPage:Q,nextPage:ee,lastPage:M}}const In={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},Tn=["update:selected","selection"];function Bn(e,a,l,h){const b=i(()=>{const x={};return e.selected.map(h.value).forEach(V=>{x[V]=!0}),x}),f=i(()=>e.selection!=="none"),m=i(()=>e.selection==="single"),v=i(()=>e.selection==="multiple"),g=i(()=>l.value.length!==0&&l.value.every(x=>b.value[h.value(x)]===!0)),P=i(()=>g.value!==!0&&l.value.some(x=>b.value[h.value(x)]===!0)),o=i(()=>e.selected.length);function C(x){return b.value[x]===!0}function q(){a("update:selected",[])}function R(x,V,w,Q){a("selection",{rows:V,added:w,keys:x,evt:Q});const ee=m.value===!0?w===!0?V:[]:w===!0?e.selected.concat(V):e.selected.filter(M=>x.includes(h.value(M))===!1);a("update:selected",ee)}return{hasSelectionMode:f,singleSelection:m,multipleSelection:v,allRowsSelected:g,someRowsSelected:P,rowsSelectedNumber:o,isRowSelected:C,clearSelection:q,updateSelection:R}}function It(e){return Array.isArray(e)?e.slice():[]}const Fn={expanded:Array},Dn=["update:expanded"];function An(e,a){const l=E(It(e.expanded));ue(()=>e.expanded,m=>{l.value=It(m)});function h(m){return l.value.includes(m)}function b(m){e.expanded!==void 0?a("update:expanded",m):l.value=m}function f(m,v){const g=l.value.slice(),P=g.indexOf(m);v===!0?P===-1&&(g.push(m),b(g)):P!==-1&&(g.splice(P,1),b(g))}return{isRowExpanded:h,setExpanded:b,updateExpanded:f}}const Ln={visibleColumns:Array};function Mn(e,a,l){const h=i(()=>{if(e.columns!==void 0)return e.columns;const v=e.rows[0];return v!==void 0?Object.keys(v).map(g=>({name:g,label:g.toUpperCase(),field:g,align:bt(v[g])?"right":"left",sortable:!0})):[]}),b=i(()=>{const{sortBy:v,descending:g}=a.value;return(e.visibleColumns!==void 0?h.value.filter(o=>o.required===!0||e.visibleColumns.includes(o.name)===!0):h.value).map(o=>{const C=o.align||"right",q=`text-${C}`;return{...o,align:C,__iconClass:`q-table__sort-icon q-table__sort-icon--${C}`,__thClass:q+(o.headerClasses!==void 0?" "+o.headerClasses:"")+(o.sortable===!0?" sortable":"")+(o.name===v?` sorted ${g===!0?"sort-desc":""}`:""),__tdStyle:o.style!==void 0?typeof o.style!="function"?()=>o.style:o.style:()=>null,__tdClass:o.classes!==void 0?typeof o.classes!="function"?()=>q+" "+o.classes:R=>q+" "+o.classes(R):()=>q}})}),f=i(()=>{const v={};return b.value.forEach(g=>{v[g.name]=g}),v}),m=i(()=>e.tableColspan!==void 0?e.tableColspan:b.value.length+(l.value===!0?1:0));return{colList:h,computedCols:b,computedColsMap:f,computedColspan:m}}const Ye="q-table__bottom row items-center",Ht={};Bt.forEach(e=>{Ht[e]={}});const Yn=Oe({name:"QTable",props:{rows:{type:Array,required:!0},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{},...Ht,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...Lt,...cn,...Ln,...Pn,...Vn,...Fn,...In,..._n},emits:["request","virtualScroll",...fn,...Dn,...Tn],setup(e,{slots:a,emit:l}){const h=pe(),{proxy:{$q:b}}=h,f=Mt(e,b),{inFullscreen:m,toggleFullscreen:v}=vn(),g=i(()=>typeof e.rowKey=="function"?e.rowKey:n=>n[e.rowKey]),P=E(null),o=E(null),C=i(()=>e.grid!==!0&&e.virtualScroll===!0),q=i(()=>" q-table__card"+(f.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),R=i(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":q.value)+(f.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(m.value===!0?" fullscreen scroll":"")),x=i(()=>R.value+(e.loading===!0?" q-table--loading":""));ue(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+R.value,()=>{C.value===!0&&o.value!==null&&o.value.reset()});const{innerPagination:V,computedPagination:w,isServerSide:Q,requestServerInteraction:ee,setPagination:M}=Rn(h,N),{computedFilterMethod:L}=qn(e,M),{isRowExpanded:$,setExpanded:D,updateExpanded:te}=An(e,l),ae=i(()=>{let n=e.rows;if(Q.value===!0||n.length===0)return n;const{sortBy:s,descending:S}=w.value;return e.filter&&(n=L.value(n,e.filter,r.value,N)),ve.value!==null&&(n=Fe.value(e.rows===n?n.slice():n,s,S)),n}),Ie=i(()=>ae.value.length),K=i(()=>{let n=ae.value;if(Q.value===!0)return n;const{rowsPerPage:s}=w.value;return s!==0&&(re.value===0&&e.rows!==n?n.length>J.value&&(n=n.slice(0,J.value)):n=n.slice(re.value,J.value)),n}),{hasSelectionMode:Y,singleSelection:G,multipleSelection:je,allRowsSelected:et,someRowsSelected:Te,rowsSelectedNumber:ie,isRowSelected:Be,clearSelection:Ee,updateSelection:oe}=Bn(e,l,K,g),{colList:Qe,computedCols:r,computedColsMap:B,computedColspan:Ne}=Mn(e,w,Y),{columnToSort:ve,computedSortMethod:Fe,sort:De}=kn(e,w,Qe,M),{firstRowIndex:re,lastRowIndex:J,isFirstPage:ge,isLastPage:me,pagesNumber:ne,computedRowsPerPageOptions:tt,computedRowsNumber:se,firstPage:be,prevPage:Se,nextPage:ye,lastPage:Ae}=On(h,V,w,Q,M,Ie),nt=i(()=>K.value.length===0),lt=i(()=>{const n={};return Bt.forEach(s=>{n[s]=e[s]}),n.virtualScrollItemSize===void 0&&(n.virtualScrollItemSize=e.dense===!0?28:48),n});function ut(){C.value===!0&&o.value.reset()}function U(){if(e.grid===!0)return st();const n=e.hideHeader!==!0?Le:null;if(C.value===!0){const S=a["top-row"],y=a["bottom-row"],_={default:F=>Ue(F.item,a.body,F.index)};if(S!==void 0){const F=u("tbody",S({cols:r.value}));_.before=n===null?()=>F:()=>[n()].concat(F)}else n!==null&&(_.before=n);return y!==void 0&&(_.after=()=>u("tbody",y({cols:r.value}))),u(Zt,{ref:o,class:e.tableClass,style:e.tableStyle,...lt.value,scrollTarget:e.virtualScrollTarget,items:K.value,type:"__qtable",tableColspan:Ne.value,onVirtualScroll:le},_)}const s=[Ke()];return n!==null&&s.unshift(n()),en({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},s)}function j(n,s){if(o.value!==null){o.value.scrollTo(n,s);return}n=parseInt(n,10);const S=P.value.querySelector(`tbody tr:nth-of-type(${n+1})`);if(S!==null){const y=P.value.querySelector(".q-table__middle.scroll"),_=S.offsetTop-e.virtualScrollStickySizeStart,F=_<y.scrollTop?"decrease":"increase";y.scrollTop=_,l("virtualScroll",{index:n,from:0,to:V.value.rowsPerPage-1,direction:F})}}function le(n){l("virtualScroll",n)}function de(){return[u(Cn,{class:"q-table__linear-progress",color:e.color,dark:f.value,indeterminate:!0,trackColor:"transparent"})]}function Ue(n,s,S){const y=g.value(n),_=Be(y);if(s!==void 0)return s(he({key:y,row:n,pageIndex:S,__trClass:_?"selected":""}));const F=a["body-cell"],T=r.value.map(p=>{const _e=a[`body-cell-${p.name}`],ke=_e!==void 0?_e:F;return ke!==void 0?ke(at({key:y,row:n,pageIndex:S,col:p})):u("td",{class:p.__tdClass(n),style:p.__tdStyle(n)},N(p,n))});if(Y.value===!0){const p=a["body-selection"],_e=p!==void 0?p(ze({key:y,row:n,pageIndex:S})):[u(gt,{modelValue:_,color:e.color,dark:f.value,dense:e.dense,"onUpdate:modelValue":(ke,dt)=>{oe([y],[n],ke,dt)}})];T.unshift(u("td",{class:"q-table--col-auto-width"},_e))}const X={key:y,class:{selected:_}};return e.onRowClick!==void 0&&(X.class["cursor-pointer"]=!0,X.onClick=p=>{l("rowClick",p,n,S)}),e.onRowDblclick!==void 0&&(X.class["cursor-pointer"]=!0,X.onDblclick=p=>{l("rowDblclick",p,n,S)}),e.onRowContextmenu!==void 0&&(X.class["cursor-pointer"]=!0,X.onContextmenu=p=>{l("rowContextmenu",p,n,S)}),u("tr",X,T)}function Ke(){const n=a.body,s=a["top-row"],S=a["bottom-row"];let y=K.value.map((_,F)=>Ue(_,n,F));return s!==void 0&&(y=s({cols:r.value}).concat(y)),S!==void 0&&(y=y.concat(S({cols:r.value}))),u("tbody",y)}function he(n){return z(n),n.cols=n.cols.map(s=>$e({...s},"value",()=>N(s,n.row))),n}function at(n){return z(n),$e(n,"value",()=>N(n.col,n.row)),n}function ze(n){return z(n),n}function z(n){Object.assign(n,{cols:r.value,colsMap:B.value,sort:De,rowIndex:re.value+n.pageIndex,color:e.color,dark:f.value,dense:e.dense}),Y.value===!0&&$e(n,"selected",()=>Be(n.key),(s,S)=>{oe([n.key],[n.row],s,S)}),$e(n,"expand",()=>$(n.key),s=>{te(n.key,s)})}function N(n,s){const S=typeof n.field=="function"?n.field(s):s[n.field];return n.format!==void 0?n.format(S,s):S}const W=i(()=>({pagination:w.value,pagesNumber:ne.value,isFirstPage:ge.value,isLastPage:me.value,firstPage:be,prevPage:Se,nextPage:ye,lastPage:Ae,inFullscreen:m.value,toggleFullscreen:v}));function it(){const n=a.top,s=a["top-left"],S=a["top-right"],y=a["top-selection"],_=Y.value===!0&&y!==void 0&&ie.value>0,F="q-table__top relative-position row items-center";if(n!==void 0)return u("div",{class:F},[n(W.value)]);let T;if(_===!0?T=y(W.value).slice():(T=[],s!==void 0?T.push(u("div",{class:"q-table__control"},[s(W.value)])):e.title&&T.push(u("div",{class:"q-table__control"},[u("div",{class:["q-table__title",e.titleClass]},e.title)]))),S!==void 0&&(T.push(u("div",{class:"q-table__separator col"})),T.push(u("div",{class:"q-table__control"},[S(W.value)]))),T.length!==0)return u("div",{class:F},T)}const Ce=i(()=>Te.value===!0?null:et.value);function Le(){const n=We();return e.loading===!0&&a.loading===void 0&&n.push(u("tr",{class:"q-table__progress"},[u("th",{class:"relative-position",colspan:Ne.value},de())])),u("thead",n)}function We(){const n=a.header,s=a["header-cell"];if(n!==void 0)return n(we({header:!0})).slice();const S=r.value.map(y=>{const _=a[`header-cell-${y.name}`],F=_!==void 0?_:s,T=we({col:y});return F!==void 0?F(T):u(gn,{key:y.name,props:T},()=>y.label)});if(G.value===!0&&e.grid!==!0)S.unshift(u("th",{class:"q-table--col-auto-width"}," "));else if(je.value===!0){const y=a["header-selection"],_=y!==void 0?y(we({})):[u(gt,{color:e.color,modelValue:Ce.value,dark:f.value,dense:e.dense,"onUpdate:modelValue":Me})];S.unshift(u("th",{class:"q-table--col-auto-width"},_))}return[u("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},S)]}function we(n){return Object.assign(n,{cols:r.value,sort:De,colsMap:B.value,color:e.color,dark:f.value,dense:e.dense}),je.value===!0&&$e(n,"selected",()=>Ce.value,Me),n}function Me(n){Te.value===!0&&(n=!1),oe(K.value.map(g.value),K.value,n)}const ce=i(()=>{const n=[e.iconFirstPage||b.iconSet.table.firstPage,e.iconPrevPage||b.iconSet.table.prevPage,e.iconNextPage||b.iconSet.table.nextPage,e.iconLastPage||b.iconSet.table.lastPage];return b.lang.rtl===!0?n.reverse():n});function Xe(){if(e.hideBottom===!0)return;if(nt.value===!0){if(e.hideNoData===!0)return;const S=e.loading===!0?e.loadingLabel||b.lang.table.loading:e.filter?e.noResultsLabel||b.lang.table.noResults:e.noDataLabel||b.lang.table.noData,y=a["no-data"],_=y!==void 0?[y({message:S,icon:b.iconSet.table.warning,filter:e.filter})]:[u(St,{class:"q-table__bottom-nodata-icon",name:b.iconSet.table.warning}),S];return u("div",{class:Ye+" q-table__bottom--nodata"},_)}const n=a.bottom;if(n!==void 0)return u("div",{class:Ye},[n(W.value)]);const s=e.hideSelectedBanner!==!0&&Y.value===!0&&ie.value>0?[u("div",{class:"q-table__control"},[u("div",[(e.selectedRowsLabel||b.lang.table.selectedRecords)(ie.value)])])]:[];if(e.hidePagination!==!0)return u("div",{class:Ye+" justify-end"},rt(s));if(s.length!==0)return u("div",{class:Ye},s)}function ot(n){M({page:1,rowsPerPage:n.value})}function rt(n){let s;const{rowsPerPage:S}=w.value,y=e.paginationLabel||b.lang.table.pagination,_=a.pagination,F=e.rowsPerPageOptions.length>1;if(n.push(u("div",{class:"q-table__separator col"})),F===!0&&n.push(u("div",{class:"q-table__control"},[u("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||b.lang.table.recordsPerPage]),u(yn,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:S,options:tt.value,displayValue:S===0?b.lang.table.allRows:S,dark:f.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":ot})])),_!==void 0)s=_(W.value);else if(s=[u("span",S!==0?{class:"q-table__bottom-item"}:{},[S?y(re.value+1,Math.min(J.value,se.value),se.value):y(1,Ie.value,se.value)])],S!==0&&ne.value>1){const T={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(T.size="sm"),ne.value>2&&s.push(u(Je,{key:"pgFirst",...T,icon:ce.value[0],disable:ge.value,onClick:be})),s.push(u(Je,{key:"pgPrev",...T,icon:ce.value[1],disable:ge.value,onClick:Se}),u(Je,{key:"pgNext",...T,icon:ce.value[2],disable:me.value,onClick:ye})),ne.value>2&&s.push(u(Je,{key:"pgLast",...T,icon:ce.value[3],disable:me.value,onClick:Ae}))}return n.push(u("div",{class:"q-table__control"},s)),n}function Ge(){const n=e.gridHeader===!0?[u("table",{class:"q-table"},[Le()])]:e.loading===!0&&a.loading===void 0?de():void 0;return u("div",{class:"q-table__middle"},n)}function st(){const n=a.item!==void 0?a.item:s=>{const S=s.cols.map(_=>u("div",{class:"q-table__grid-item-row"},[u("div",{class:"q-table__grid-item-title"},[_.label]),u("div",{class:"q-table__grid-item-value"},[_.value])]));if(Y.value===!0){const _=a["body-selection"],F=_!==void 0?_(s):[u(gt,{modelValue:s.selected,color:e.color,dark:f.value,dense:e.dense,"onUpdate:modelValue":(T,X)=>{oe([s.key],[s.row],T,X)}})];S.unshift(u("div",{class:"q-table__grid-item-row"},F),u(Jt,{dark:f.value}))}const y={class:["q-table__grid-item-card"+q.value,e.cardClass],style:e.cardStyle};return(e.onRowClick!==void 0||e.onRowDblclick!==void 0||e.onRowContextmenu!==void 0)&&(y.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(y.onClick=_=>{l("RowClick",_,s.row,s.pageIndex)}),e.onRowDblclick!==void 0&&(y.onDblclick=_=>{l("RowDblclick",_,s.row,s.pageIndex)}),e.onRowContextmenu!==void 0&&(y.onContextmenu=_=>{l("rowContextmenu",_,s.row,s.pageIndex)})),u("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(s.selected===!0?" q-table__grid-item--selected":"")},[u("div",y,S)])};return u("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},K.value.map((s,S)=>n(he({key:g.value(s),row:s,pageIndex:S}))))}return Object.assign(h.proxy,{requestServerInteraction:ee,setPagination:M,firstPage:be,prevPage:Se,nextPage:ye,lastPage:Ae,isRowSelected:Be,clearSelection:Ee,isRowExpanded:$,setExpanded:D,sort:De,resetVirtualScroll:ut,scrollTo:j,getCellValue:N}),Gt(h.proxy,{filteredSortedRows:()=>ae.value,computedRows:()=>K.value,computedRowsNumber:()=>se.value}),()=>{const n=[it()],s={ref:P,class:x.value};return e.grid===!0?n.push(Ge()):Object.assign(s,{class:[s.class,e.cardClass],style:e.cardStyle}),n.push(U(),Xe()),e.loading===!0&&a.loading!==void 0&&n.push(a.loading()),u("div",s,n)}}});export{Jn as Q,Yn as a,yn as b};
