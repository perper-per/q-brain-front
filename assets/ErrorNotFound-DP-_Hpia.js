import{n as h,e as n,f as i,g as t,h as x,Q as w,R as V,v as s,t as d,A as c,F,B as N}from"./index-C-xpmZAv.js";import{c as S,a as y,u as k}from"./index.esm-B4MUlKd5.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./_commonjsHelpers-Cpj98o6Y.js";const B={class:"error-page"},M={class:"bg-blue text-white text-center q-pa-md flex flex-center"},E={class:"form-container"},O={class:"form-group"},Q=["value"],R={key:0,class:"error"},$={class:"form-group"},z=["value"],A=["value"],D={key:0,class:"error"},G={__name:"ErrorNotFound",setup(H){const u={fruits:["apple","banana","orange"],vegetables:["carrot","broccoli"]},p=S({mainCategory:y().required("請選擇主分類"),subCategory:y().when("mainCategory",(o,e)=>o?e.required("請選擇次分類").test({name:"subCategory-match",message:"所選次分類不符合主分類",test:function(a){const{mainCategory:_}=this.parent;return a?u[_]?.includes(a)??!1:!0}}):e.notRequired())}),{handleSubmit:C,values:r,errors:l,setFieldValue:g}=k({validationSchema:p,initialValues:{mainCategory:"",subCategory:""},validateOnMount:!1}),v=async o=>{const e=o.target.value;await g("mainCategory",e),await g("subCategory","")},b=async o=>{const e=o.target.value;await g("subCategory",e)},m=C(o=>{console.log("表單提交：",o)}),f=h(()=>(console.log("當前主分類:",r.mainCategory),console.log("可用的次分類:",u[r.mainCategory]),u[r.mainCategory]||[]));return(o,e)=>(n(),i("div",B,[t("div",M,[t("div",null,[e[1]||(e[1]=t("div",{style:{"font-size":"30vh"}},"404",-1)),e[2]||(e[2]=t("div",{class:"text-h2",style:{opacity:".4"}},"Oops. Nothing here...",-1)),x(w,{class:"q-mt-xl",color:"white","text-color":"blue",unelevated:"",to:"/",label:"Go Home","no-caps":""})])]),t("div",E,[t("form",{onSubmit:e[0]||(e[0]=V((...a)=>s(m)&&s(m)(...a),["prevent"]))},[t("div",O,[e[4]||(e[4]=t("label",{for:"mainCategory"},"主分類：",-1)),t("select",{id:"mainCategory",value:s(r).mainCategory,onChange:v},e[3]||(e[3]=[t("option",{value:""},"請選擇",-1),t("option",{value:"fruits"},"水果",-1),t("option",{value:"vegetables"},"蔬菜",-1)]),40,Q),s(l).mainCategory?(n(),i("span",R,d(s(l).mainCategory),1)):c("",!0)]),t("div",$,[e[6]||(e[6]=t("label",{for:"subCategory"},"次分類：",-1)),t("select",{id:"subCategory",value:s(r).subCategory,onChange:b},[e[5]||(e[5]=t("option",{value:""},"請選擇",-1)),(n(!0),i(F,null,N(f.value,a=>(n(),i("option",{key:a,value:a},d(a),9,A))),128))],40,z),s(l).subCategory?(n(),i("span",D,d(s(l).subCategory),1)):c("",!0)]),e[7]||(e[7]=t("button",{type:"submit"},"送出",-1))],32)])]))}},K=q(G,[["__scopeId","data-v-2febe071"]]);export{K as default};
